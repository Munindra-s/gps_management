<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="Materia - Admin Template">
	<meta name="keywords" content="materia, webapp, admin, dashboard, template, ui">
	<meta name="author" content="solutionportal">
	<!-- <base href="/"> -->

	<title>SSD</title>
	
	{% load static %}
	<link rel="icon" type="image/x-icon" href="{% static 'images/SS_LOGO.png' %}">

<!-- Font Styles -->
<link rel="stylesheet" href="{% static 'fonts/font-awesome/css/font-awesome.min.css' %}">
<link rel="stylesheet" href="{% static 'fonts/ionicons/css/ionicons.min.css' %}">

<!-- Plugins -->
<link rel="stylesheet" href="{% static 'styles/plugins/c3.css' %}">
<link rel="stylesheet" href="{% static 'styles/plugins/waves.css' %}">
<link rel="stylesheet" href="{% static 'styles/plugins/perfect_scrollbar.css' %}">

<!-- CSS Stylesheets -->
<link rel="stylesheet" href="{% static 'styles/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'styles/main.min.css' %}">





<link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">
 	<link href='http://fonts.googleapis.com/css?family=Roboto:400,500,700,300' rel='stylesheet' type='text/css'>

	<!-- Match Media polyfill for IE9 -->
	<!--[if IE 9]> <script src="scripts/ie/matchMedia.js"></script>  <![endif]--> 
	<style>
        /* Style the autocomplete dropdown */
        .autocomplete-items {
            position: absolute;
            border: 1px solid #ddd;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            background-color: #fff;
            z-index: 99;
            width: 500px;
        }
        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
        }
        .autocomplete-items div:hover {
            background-color: #f1f1f1;
        }
    </style>

	
</head>
<body id="app" class="app off-canvas">
	
	<!-- header -->
	<header class="site-head" id="site-head">
		<ul class="list-unstyled left-elems">
			<!-- nav trigger/collapse -->
			<li>
				<a href="javascript:;" class="nav-trigger icon ion-md-menu"></a>
			</li>
			<!-- #end nav-trigger -->

			<!-- site-logo for mobile nav -->
			<li>
				<div class="site-logo visible-xs">
					<a href="javascript:;" class="text-uppercase h3">
						<span class="text">SSD</span>
					</a>
				</div>
			</li> <!-- #end site-logo -->


			
		</ul>

		<ul class="list-unstyled right-elems">
			


		</ul>

	</header>
	<!-- #end header -->

	<!-- main-container -->
	<div class="main-container clearfix">
		<!-- main-navigation -->
		<aside class="nav-wrap" id="site-nav" data-perfect-scrollbar>
			<div class="nav-head">
				<!-- site logo -->
				<a class="site-logo text-uppercase">
					{% comment %} <i class="ion ion-disc"></i> {% endcomment %}
					<img src="{% static 'images/SS_LOGO.png' %}" alt="">
					<span class="text">SS Digitals</span>
				</a>
			</div>

			<!-- Site nav (vertical) -->

			<nav class="site-nav clearfix" role="navigation">
				

				<!-- navigation -->
				<ul class="list-unstyled clearfix nav-list mb15">
					<li class="active">
						<a href="#">
							<i class="ion ion-monitor"></i>
							<span class="text">Dashboard</span>
						</a>
					</li>
					{% comment %} <li>
						<a>
							<i class="icon ion-md-people"></i>
							<span class="text">Insurance Management</span>
						</a>
					</li> {% endcomment %}
					<li>
						<a href="javascript:;">
							<i class="icon ion-md-people"></i>
							<span class="text">Gps Management</span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Gps</a></li>
							<li><a href="#">List Gps</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class="icon ion-md-contact"></i>
							<span class="text">Enquiry Gps Management</span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Employee</a></li>
							<li><a href="#">List Employee</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class=""></i>
							<span class="text"></span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Material</a></li>
							<li><a href="#">List Material</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class=""></i>
							<span class="text"></span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							{% comment %} <li><a href="{% url "" %}">Add Material</a></li> {% endcomment %}
							<li><a href="#">List Inward</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class=""></i>
							<span class="text"></span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Product</a></li>
							<li><a href="#">List Product</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class=""></i>
							<span class="text"></span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Category</a></li>
							<li><a href="#">List Category</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class=""></i>
							<span class="text"></span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Cost</a></li>
							<li><a href="#">List Cost</a></li>
						</ul>
					</li>
					<li>
						<a href="javascript:;">
							<i class=""></i>
							<span class="text"></span>
							{% comment %} <i class="icon ion-md-arrow"></i> {% endcomment %}
						</a>
						<ul class="inner-drop list-unstyled">
							<li><a href="#">Add Bill</a></li>
							<li><a href="#">List Bill</a></li>
							<li><a href="#">List Quotation</a></li>
							<li><a href="#">List Estimation</a></li>
						</ul>
					</li>

					
					
				</ul> <!-- #end navigation -->
			</nav>


		</aside>
		<!-- #end main-navigation -->

		<div class="content-container fixedHeader nav-expand">
			<!-- col-left -->
			<div class="col-sm-12 col-md-11">
				<div class="panel panel-default panel-hovered panel-stacked mb30">
					<div class="panel-heading">Gps_management</div>
					{% if messages %}

        {% for message in messages %}
        <script type="text/javascript">
            alert('{{ message }}');
        </script>
        {% endfor %}
        
        {% endif %}
					<div class="panel-body">
						<form id='form' class="form-horizontal"  method="POST">
							{% csrf_token %}
							 <!-- form horizontal acts as a row -->
							<!-- Customer Id -->
							<h1>Autocomplete Dropdown</h1>

							<!--<form action="">
								<input type="text" id="search" placeholder="Search here.." class="form-control" style="width:500px;" autocomplete="off" />
								<div id="autocomplete-list" class="autocomplete-items"></div>
							</form>-->
							<div class="form-group">
								<label class="col-md-3 control-label">customer details</label>
								<div class="col-md-9">
									<input type="text" name="customer_details" class="form-control" placeholder="imei no" required >
									<input type="text" id="search" placeholder="Search here.." class="form-control" style="width:500px;" autocomplete="off" />
                                    <div id="autocomplete-list" class="autocomplete-items"></div>
							</div>

							<div class="form-group">
								<label class="col-md-3 control-label">Gps device IMEI no</label>
								<div class="col-md-9">
									<input type="number" name="Gps_device_IMEI_no" class="form-control" placeholder="imei no" required >
							</div>
							
							<div class="form-group">
								<label class="col-md-3 control-label">registration no</label>
								<div class="col-md-9">
									<input type="text" name="registration_no" class="form-control" placeholder="no" required >
							</div>

							<div class="form-group">
								<label class="col-md-3 control-label">install date</label>
								<div class="col-md-9">
									<input type="date" name="install_date" class="form-control" placeholder="date" >
							</div>
							<div class="form-group">
								<label class="col-md-3 control-label">renew date </label>
								<div class="col-md-9">
									<input type="date" name="renew_date" class="form-control" placeholder="cutomerid" >
							</div>
							<div class="form-group">
								<label class="col-md-3 control-label">Reminder date</label>
								<div class="col-md-9">
									<input type="date" name="reminder_date" class="form-control" placeholder="cutomerid" >
							</div>
								
								
								
							</div>
							<div class="form-group">
								<label class="col-md-3 control-label">vehicle model</label>
								<div class="col-md-9">
									<input type="date" class="form-control" placeholder="vehicle_model" name="vehicle_model" required>
								</div>
							</div>
							<div class="form-group">
								<label class="col-md-3 control-label">vehicle make</label>
								<div class="col-md-9">
									<input type="date" class="form-control" name="vehicle_make" placeholder="manufacturing_year" required>
								</div>
							</div>
							
							

							
							<div class="form-group">
								<label class="col-md-3 control-label">Vehicle Type</label>
								<div class="col-md-9">
									<select class="form-control" name="vehicle_type" required>
										<option value="">Select Vehicle Type</option>
										<option value="car">Tractor</option>
										<option value="bike">Bus</option>
										<option value="truck">Truck</option>
										<!-- Add more options as needed -->
									</select>
								</div>
							</div>
							<div class="clearfix center">
								<button class="btn btn-primary mr5" type="submit" id="submitButton">Submit</button>
							</div>
                            

							
							
							</div>
						                         
								    
							</div>
							
						</form>
					</div>
				</div>
			</div> <!-- #end col-left -->

		</div>

		<!-- content-here -->
		<div class="content-container" id="content">
			<!-- dashboard page -->
			<div class="page page-dashboard">

				<div class="page-wrap">


					

				</div> <!-- #end page-wrap -->
			</div>
			<!-- #end dashboard page -->
		</div>

		
	</div> <!-- #end main-container -->
	

	<!-- theme settings -->
	<div class="site-settings clearfix hidden-xs" >
		<div class="settings clearfix">
			<div class="trigger ion ion-settings left"></div>
			<div class="wrapper left">
				<ul class="list-unstyled other-settings">
					<li class="clearfix mb10">
						<div class="left small">Nav Horizontal</div>
						<div class="md-switch right">
							<label>
								<input type="checkbox" id="navHorizontal"> 
								<span>&nbsp;</span> 
							</label>
						</div>
						
						
					</li>
					<li class="clearfix mb10">
						<div class="left small">Fixed Header</div>
						<div class="md-switch right">
							<label>
								<input type="checkbox"  id="fixedHeader"> 
								<span>&nbsp;</span> 
							</label>
						</div>
					</li>
					<li class="clearfix mb10">
						<div class="left small">Nav Full</div>
						<div class="md-switch right">
							<label>
								<input type="checkbox"  id="navFull"> 
								<span>&nbsp;</span> 
							</label>
						</div>
					</li>
				</ul>
				<hr/>
				<ul class="themes list-unstyled" id="themeColor">
					<li data-theme="theme-zero" class="active"></li>
					<li data-theme="theme-one"></li>
					<li data-theme="theme-two"></li>
					<li data-theme="theme-three"></li>
					<li data-theme="theme-four"></li>
					<li data-theme="theme-five"></li>
					<li data-theme="theme-six"></li>
					<li data-theme="theme-seven"></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- #end theme settings -->


	

	<!-- Dev only -->
	<!-- Vendors -->
	{% load static %}

	
	<script src="{% static 'scripts/vendors.js' %}"></script>
	<script src="{% static 'scripts/plugins/d3.min.js' %}"></script>
	<script src="{% static 'scripts/plugins/c3.min.js' %}"></script>
	<script src="{% static 'scripts/plugins/screenfull.js' %}"></script>
	<script src="{% static 'scripts/plugins/perfect-scrollbar.min.js' %}"></script>
	<script src="{% static 'scripts/plugins/waves.min.js' %}"></script>
	<script src="{% static 'scripts/plugins/jquery.sparkline.min.js' %}"></script>
	<script src="{% static 'scripts/plugins/jquery.easypiechart.min.js' %}"></script>
	<script src="{% static 'scripts/plugins/bootstrap-rating.min.js' %}"></script>
	<script src="{% static 'scripts/app.js' %}"></script>
	<script src="{% static 'scripts/index.init.js' %}"></script>

	{% comment %} <script>
		// Example list of existing phone numbers (this can come from a database)
		const existingPhoneNumbers = [
			{% for num in phone %}
			"{{num.Phone_No}}",
			{% endfor %}
		];
		const submitButton = document.getElementById("submitButton");
	
		console.log(existingPhoneNumbers);
	
		document.getElementById("phone").addEventListener("blur", function () {
			let enteredPhone = this.value.trim(); // Get input value and remove extra spaces
			let errorSpan = document.getElementById("phoneError");
	
			if (enteredPhone.length !== 10 || isNaN(enteredPhone)) {
				errorSpan.textContent = "Enter a valid 10-digit phone number";
				errorSpan.style.color = "red";
				this.style.borderColor = "red";
				submitButton.disabled = true;
				alert("Enter a valid 10-digit phone number")
			} 
			else if (existingPhoneNumbers.includes(enteredPhone)) {
				errorSpan.textContent = "Phone number already exists!";
				errorSpan.style.color = "red";
				this.style.borderColor = "red";
				submitButton.disabled = true;
				alert("Phone number already exists!")
			} 
			else {
				errorSpan.textContent = "";
				this.style.borderColor = "green";
				submitButton.disabled = false;

			}
		});
	</script> {% endcomment %}


	<script>
		
		// Example list of existing phone numbers (this can come from a database)
		const existingPhoneNumbers = [
			{% for num in phone %}
			"{{num.Phone_No}}--{{num.Customer_Id}}--{{num.Customer_Name}}",
			{% endfor %}
		];
		const submitButton = document.getElementById("submitButton");
	
	
		document.getElementById("phone").addEventListener("blur", function () {
			let enteredPhone = this.value.trim(); // Get input value and remove extra spaces
			let errorSpan = document.getElementById("phoneError");
	
			if (enteredPhone.length !== 10 || isNaN(enteredPhone)) {
				errorSpan.textContent = "Enter a valid 10-digit phone number";
				errorSpan.style.color = "red";
				this.style.borderColor = "red";
				submitButton.disabled = true;
				{% comment %} alert("Enter a valid 10-digit phone number"); {% endcomment %}
			} 
			else {
				// Check if the entered phone number exists in the array
				let matchedPhone = existingPhoneNumbers.find(phone => phone.startsWith(enteredPhone));
	
				if (matchedPhone) {
					errorSpan.textContent = `${matchedPhone} already exists!`;
					errorSpan.style.color = "red";
					this.style.borderColor = "red";
					submitButton.disabled = true;
					alert(`${matchedPhone} already exists!`);
				} 
				else {
					errorSpan.textContent = "";
					this.style.borderColor = "green";
					submitButton.disabled = false;
				}
			}
		});
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
            // Sample data (you will replace this with Django dynamic data)
            var customerData = [
                {% for item in sent %}
                    "{{ item.name}} --- {{item.phone}}",
                {% endfor %}
            ];

            var input = document.getElementById("search");
            var autocompleteList = document.getElementById("autocomplete-list");

            input.addEventListener("input", function () {
                var val = this.value;
                autocompleteList.innerHTML = ""; // Clear previous results

                if (!val) return; // Stop if input is empty

                customerData.forEach(function (item) {
                    if (item.toLowerCase().includes(val.toLowerCase())) {
                        var suggestion = document.createElement("div");
                        suggestion.textContent = item;
                        suggestion.addEventListener("click", function () {
                            input.value = item; // Set input value on selection
                            autocompleteList.innerHTML = ""; // Hide dropdown
                        });
                        autocompleteList.appendChild(suggestion);
                    }
                });
            });

            document.addEventListener("click", function (e) {
                if (!input.contains(e.target) && !autocompleteList.contains(e.target)) {
                    autocompleteList.innerHTML = ""; // Hide dropdown when clicking outside
                }
            });
        });
	</script>
	
</body>
</html>